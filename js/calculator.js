$(document).ready(function(){if($("#CostOfProduction").length){$("#CostOfProduction :radio, #CostOfProduction :text").removeAttr("disabled").removeAttr("readonly");$("#CostOfProduction :text").css("width",50);$("#vc_1").attr("checked",true);$("#price_C").bind("change",function(){stripNonNum("price_C");
calc("CC");calc("CB");});$("#price_SB").bind("change",function(){stripNonNum("price_SB");calc("SB");});$("#acres_CC").bind("change",function(){stripNonNum("acres_CC");calc("CC");});$("#acres_CB").bind("change",function(){stripNonNum("acres_CB");calc("CB");});$("#acres_SB").bind("change",function(){stripNonNum("acres_SB");
calc("SB");});$("#yieldGoal_CC").bind("change",function(){stripNonNum("yieldGoal_CC");calc("CC");});$("#yieldGoal_CB").bind("change",function(){stripNonNum("yieldGoal_CB");calc("CB");});$("#yieldGoal_SB").bind("change",function(){stripNonNum("yieldGoal_SB");calc("SB");});$("#vc_1").bind("click",function(){hide_show_vc();
});$("#vc_0").bind("click",function(){hide_show_vc();});$("#calc_CC_Fert").bind("click",function(){calculate("vc_CC_1","f");});$("#calc_CB_Fert").bind("click",function(){calculate("vc_CB_1","f");});$("#calc_SB_Fert").bind("click",function(){calculate("vc_SB_1","f");});$("#calc_CC_Seed").bind("click",function(){calculate("vc_CC_4","s");
});$("#calc_CB_Seed").bind("click",function(){calculate("vc_CB_4","s");});$("#calc_SB_Seed").bind("click",function(){calculate("vc_SB_4","s");});$("#vc_CC_1").bind("change",function(){stripNonNum("vc_CC_1");calc("CC");});$("#vc_CB_1").bind("change",function(){stripNonNum("vc_CB_1");calc("CB");});$("#vc_SB_1").bind("change",function(){stripNonNum("vc_SB_1");
calc("SB");});$("#vc_CC_2").bind("change",function(){stripNonNum("vc_CC_2");calc("CC");});$("#vc_CB_2").bind("change",function(){stripNonNum("vc_CB_2");calc("CB");});$("#vc_SB_2").bind("change",function(){stripNonNum("vc_SB_2");calc("SB");});$("#vc_CC_3").bind("change",function(){stripNonNum("vc_CC_3");
calc("CC");});$("#vc_CB_3").bind("change",function(){stripNonNum("vc_CB_3");calc("CB");});$("#vc_SB_3").bind("change",function(){stripNonNum("vc_SB_3");calc("SB");});$("#vc_CC_4").bind("change",function(){stripNonNum("vc_CC_4");calc("CC");});$("#vc_CB_4").bind("change",function(){stripNonNum("vc_CB_4");
calc("CB");});$("#vc_SB_4").bind("change",function(){stripNonNum("vc_SB_4");calc("SB");});$("#vc_CC_5").bind("change",function(){stripNonNum("vc_CC_5");calc("CC");});$("#vc_CB_5").bind("change",function(){stripNonNum("vc_CB_5");calc("CB");});$("#vc_SB_5").bind("change",function(){stripNonNum("vc_SB_5");
calc("SB");});$("#vc_CC_6").bind("change",function(){stripNonNum("vc_CC_6");calc("CC");});$("#vc_CB_6").bind("change",function(){stripNonNum("vc_CB_6");calc("CB");});$("#vc_SB_6").bind("change",function(){stripNonNum("vc_SB_6");calc("SB");});$("#vc_CC_7").bind("change",function(){stripNonNum("vc_CC_7");
calc("CC");});$("#vc_CB_7").bind("change",function(){stripNonNum("vc_CB_7");calc("CB");});$("#vc_SB_7").bind("change",function(){stripNonNum("vc_SB_7");calc("SB");});$("#vc_CC_8").bind("change",function(){stripNonNum("vc_CC_8");calc("CC");});$("#vc_CB_8").bind("change",function(){stripNonNum("vc_CB_8");
calc("CB");});$("#vc_SB_8").bind("change",function(){stripNonNum("vc_SB_8");calc("SB");});$("#vc_CC_9").bind("change",function(){stripNonNum("vc_CC_9");calc("CC");});$("#vc_CB_9").bind("change",function(){stripNonNum("vc_CB_9");calc("CB");});$("#vc_SB_9").bind("change",function(){stripNonNum("vc_SB_9");
calc("SB");});$("#vc_CC_10").bind("change",function(){stripNonNum("vc_CC_10");calc("CC");});$("#vc_CB_10").bind("change",function(){stripNonNum("vc_CB_10");calc("CB");});$("#vc_SB_10").bind("change",function(){stripNonNum("vc_SB_10");calc("SB");});$("#vc_CC_11").bind("change",function(){stripNonNum("vc_CC_11");
calc("CC");});$("#vc_CB_11").bind("change",function(){stripNonNum("vc_CB_11");calc("CB");});$("#vc_SB_11").bind("change",function(){stripNonNum("vc_SB_11");calc("SB");});}});var fert_CC="153.50";var fert_CB="132.17";var fert_SB="59.95";var herb_CC="35.50";var herb_CB="35.50";var herb_SB="26.50";var insect_CC="23.00";
var insect_CB="0.00";var insect_SB="0.00";var seed_CC="134.90";var seed_CB="134.90";var seed_SB="55.00";var dry_CC="35.52";var dry_CB="38.40";var dry_SB="0.00";var haul_CC="7.06";var haul_CB="7.63";var haul_SB="1.91";var machine_CC="42.16";var machine_CB="37.89";var machine_SB="33.30";var labor_CC="37.05";
var labor_CB="33.80";var labor_SB="29.25";var ins_CC="14.60";var ins_CB="14.60";var ins_SB="8.90";var irrig_CC="0.00";var irrig_CB="0.00";var irrig_SB="0.00";var other_CC="24.22";var other_CB="22.59";var other_SB="16.03";function fnc_ResetVars(){$("#vc_CC_1").val(fert_CC);$("#vc_CC_2").val(herb_CC);$("#vc_CC_3").val(insect_CC);
$("#vc_CC_4").val(seed_CC);$("#vc_CC_5").val(dry_CC);$("#vc_CC_6").val(haul_CC);$("#vc_CC_7").val(machine_CC);$("#vc_CC_8").val(labor_CC);$("#vc_CC_9").val(ins_CC);$("#vc_CC_10").val(irrig_CC);$("#vc_CC_11").val(other_CC);$("#vc_CB_1").val(fert_CB);$("#vc_CB_2").val(herb_CB);$("#vc_CB_3").val(insect_CB);
$("#vc_CB_4").val(seed_CB);$("#vc_CB_5").val(dry_CB);$("#vc_CB_6").val(haul_CB);$("#vc_CB_7").val(machine_CB);$("#vc_CB_8").val(labor_CB);$("#vc_CB_9").val(ins_CB);$("#vc_CB_10").val(irrig_CB);$("#vc_CB_11").val(other_CB);$("#vc_SB_1").val(fert_SB);$("#vc_SB_2").val(herb_SB);$("#vc_SB_3").val(insect_SB);
$("#vc_SB_4").val(seed_SB);$("#vc_SB_5").val(dry_SB);$("#vc_SB_6").val(haul_SB);$("#vc_SB_7").val(machine_SB);$("#vc_SB_8").val(labor_SB);$("#vc_SB_9").val(ins_SB);$("#vc_SB_10").val(irrig_SB);$("#vc_SB_11").val(other_SB);}function hide_show_vc(){if($("#vc_1").is(":checked")){for(i=1;i<12;i++){$("#tr_vc_manual_"+i).hide();
}$("#vc_CC_Total").text("507.51");$("#vc_CB_Total").text("457.48");$("#vc_SB_Total").text("230.84");}else{for(i=1;i<12;i++){$("#tr_vc_manual_"+i).show();}fnc_ResetVars();}calc("CC");calc("CB");calc("SB");}function TwoDecimals(num){newNum=Math.round(num*100)/100;if(isNaN(newNum)){newNum="0";}newNum=((new Number(newNum)).toFixed(2));
return newNum;}function ThreeDecimalsOrZero(num){newNum=num;if(isNaN(newNum)){newNum=0;}newNum=((new Number(newNum)).toFixed(3));return newNum;}function ThreeDecimals(num){newNum=Math.round(num*1000)/1000;return newNum;}function numberWithCommas(x){return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");
}function calc(cropRot){calc_Goals(cropRot);calc_Prices(cropRot);calc_VarCosts(cropRot);calc_LDP(cropRot);calc_CCP(cropRot);calc_TotalIncome(cropRot);calc_Net(cropRot);calc_NetPerCrop(cropRot);calc_total();}function calc_Goals(cropRot){yg=parseFloat($("#yieldGoal_"+cropRot).val());if(cropRot=="CC"||cropRot=="CB"){tIncome=TwoDecimals(yg*parseFloat($("#price_C").val()));
}else{if(cropRot=="SB"){tIncome=TwoDecimals(yg*parseFloat($("#price_SB").val()));}}$("#marketIncome_"+cropRot).text(tIncome);}function calc_Prices(cropRot){if(cropRot=="CC"||cropRot=="CB"){price=parseFloat($("#price_C").val());tIncome=TwoDecimals(price*parseFloat($("#yieldGoal_CC").val()));if(!isNaN(tIncome)){$("#marketIncome_CC").text(tIncome);
}tIncome=TwoDecimals(price*parseFloat($("#yieldGoal_CB").val()));if(!isNaN(tIncome)){$("#marketIncome_CB").text(tIncome);}}else{if(cropRot=="SB"){price=parseFloat($("#price_SB").val());tIncome=TwoDecimals(price*parseFloat($("#yieldGoal_SB").val()));if(!isNaN(tIncome)){$("#marketIncome_SB").text(tIncome);
}}}}function calc_VarCosts(cropRot){if($("#vc_0").is(":checked")){tVarCostTotal=0;flg=1;for(i=1;i<12;i++){if(!document.getElementById("vc_"+cropRot+"_"+i).value==""){tVarCost=parseFloat($("#vc_"+cropRot+"_"+i).val());if(!isNaN(tVarCost)){tVarCostTotal+=tVarCost;}else{flg=0;break;}}}if(flg==1){tVarCostTotal=TwoDecimals(tVarCostTotal);
$("#vc_"+cropRot+"_Total").text(tVarCostTotal);}else{alert("Please enter only numbers");}}}function calc_LDP(cropRot){if(cropRot=="CC"||cropRot=="CB"){mktPrice=parseFloat($("#price_C").val());if(mktPrice>2.15){$("#ldp_"+cropRot).text(0);}else{ldp=ThreeDecimalsOrZero((2.15-mktPrice)*parseFloat($("#yieldGoal_"+cropRot).val()));
if(!isNaN(ldp)){$("#ldp_"+cropRot).text(ldp);}}}else{if(cropRot="SB"){mktPrice=parseFloat($("#price_SB").val());if(mktPrice>5.22){$("#ldp_"+cropRot).text(0);}else{ldp=ThreeDecimalsOrZero((5.22-mktPrice)*parseFloat($("#yieldGoal_"+cropRot).val()));if(!isNaN(ldp)){$("#ldp_"+cropRot).text(ldp);}}}}}function calc_CCP(cropRot){yg=parseFloat($("#yieldGoal_"+cropRot).val());
if(cropRot=="CC"||cropRot=="CB"){mktPrice=parseFloat($("#price_C").val());if(mktPrice>=2.34){$("#ccp_"+cropRot).text(0);}else{maxMktLDP=Math.max(mktPrice,2.34-mktPrice);ccp=ThreeDecimalsOrZero((2.34-maxMktLDP)*(yg*0.625));if(!isNaN(ccp)){$("#ccp_"+cropRot).text(ccp);}}}else{if(cropRot="SB"){mktPrice=parseFloat($("#price_SB").val());
if(mktPrice>=5.35){$("#ccp_"+cropRot).text(0);}else{maxMktLDP=Math.max(mktPrice,5.35-mktPrice);ccp=ThreeDecimalsOrZero((5.35-maxMktLDP)*(yg*0.68));if(!isNaN(ccp)){$("#ccp_"+cropRot).text(ccp);}}}}}function calc_TotalIncome(cropRot){if(cropRot=="CC"){if(!isNaN($("#marketIncome_CC").text())){tIncome=parseFloat($("#marketIncome_CC").text())+parseFloat($("#ldp_CC").text())+parseFloat($("#ccp_CC").text());
$("#ti_CC").text(TwoDecimals(tIncome));}}if(cropRot=="CB"){if(!isNaN($("#marketIncome_CB").text())){tIncome=parseFloat($("#marketIncome_CB").text())+parseFloat($("#ldp_CB").text())+parseFloat($("#ccp_CB").text());$("#ti_CB").text(TwoDecimals(tIncome));}}if(cropRot=="SB"){if(!isNaN($("#marketIncome_SB").text())){tIncome=parseFloat($("#marketIncome_SB").text())+parseFloat($("#ldp_SB").text())+parseFloat($("#ccp_SB").text());
$("#ti_SB").text(TwoDecimals(tIncome));}}}function calc_Net(cropRot){if(cropRot=="CC"){if($("#vc_0").is(":checked")){if(!isNaN($("#vc_CC_Total").text())&&!isNaN($("#marketIncome_CC").text())){tNet=parseFloat($("#ti_CC").text())-parseFloat($("#vc_CC_Total").text());$("#net_CC").text(TwoDecimals(tNet));
}}else{if(!isNaN($("#marketIncome_CC").text())){tNet=parseFloat($("#ti_CC").text())-parseFloat($("#vc_CC_Total").text());$("#net_CC").text(TwoDecimals(tNet));}}}if(cropRot=="CB"){if($("#vc_0").is(":checked")){if(!isNaN($("#vc_CB_Total").text())&&!isNaN($("#marketIncome_CB").text())){tNet=parseFloat($("#ti_CB").text())-parseFloat($("#vc_CB_Total").text());
$("#net_CB").text(TwoDecimals(tNet));}}else{if(!isNaN($("#marketIncome_CB").text())){tNet=parseFloat($("#ti_CB").text())-parseFloat($("#vc_CB_Total").text());$("#net_CB").text(TwoDecimals(tNet));}}}if(cropRot=="SB"){if($("#vc_0").is(":checked")){if(!isNaN($("#vc_SB_Total").text())&&!isNaN($("#marketIncome_SB").text())){tNet=parseFloat($("#ti_SB").text())-parseFloat($("#vc_SB_Total").text());
$("#net_SB").text(TwoDecimals(tNet));}}else{if(!isNaN($("#marketIncome_SB").text())){tNet=parseFloat($("#ti_SB").text())-parseFloat($("#vc_SB_Total").text());$("#net_SB").text(TwoDecimals(tNet));}}}}function calc_NetPerCrop(cropRot){if(cropRot=="CC"){if(!isNaN($("#acres_CC").val())&&!isNaN($("#net_CC").text())){tNetPerCrop=parseFloat($("#acres_CC").val())*parseFloat($("#net_CC").text());
$("#netPerCrop_CC").text(numberWithCommas(TwoDecimals(tNetPerCrop)));}}if(cropRot=="CB"){if(!isNaN($("#acres_CB").val())&&!isNaN($("#net_CB").text())){tNetPerCrop=parseFloat($("#acres_CB").val())*parseFloat($("#net_CB").text());$("#netPerCrop_CB").text(numberWithCommas(TwoDecimals(tNetPerCrop)));}}if(cropRot=="SB"){if(!isNaN($("#acres_SB").val())&&!isNaN($("#net_SB").text())){tNetPerCrop=parseFloat($("#acres_SB").val())*parseFloat($("#net_SB").text());
$("#netPerCrop_SB").text(numberWithCommas(TwoDecimals(tNetPerCrop)));}}}function calc_total(){$("#total").text(formatCurrency(parseFloat($("#netPerCrop_CC").text().replace(",",""))+parseFloat($("#netPerCrop_CB").text().replace(",",""))+parseFloat($("#netPerCrop_SB").text().replace(",",""))));}var miniCalcField="";
var miniCalc="";var miniCalcCrop="";function calculate(field,whichCalc){miniCalcField=field;miniCalc=whichCalc;miniCalcCrop="CC";if(field.indexOf("CB")>-1){miniCalcCrop="CB";}if(field.indexOf("SB")>-1){miniCalcCrop="SB";}var shadowBox_Width=490;var shadowBox_Height=500;var str_Content="";str_Content+="<div id=\"Tools_Calcs\"><table border='0' cellspacing='0' cellpadding='5'>";
if(miniCalc=="f"){str_Content+="<tr>";str_Content+='<td class="tc_T2" width="150"><span class="cop_AreaHeader">Fertilizer</span></td>';str_Content+='<td class="tc_T2" align="center"><span class="colHeader">Nitrogen</span></td>';str_Content+='<td class="tc_T2" align="center"><span class="colHeader">Phosphorus</span></td>';
str_Content+='<td class="tc_T2" align="center"><span class="colHeader">Potassium</span></td>';str_Content+="</tr>";str_Content+="<tr>";str_Content+='<td valign="top" class="tc_Results"><span class="stepTitle"> Product</span></td>';str_Content+='<td align="center" class="tc_Results">';str_Content+='<input name="nt" id=\'nt_0\' type="radio" value="1640" onselect="calcFert(\'nt\')" checked />NH3<br />';
str_Content+='<input name="nt" id=\'nt_1\' type="radio" value="560" onselect="calcFert(\'nt\')" />28% </td>';str_Content+='<td align="center" class="tc_Results">';str_Content+='<input name="ph" id=\'ph_0\' type="radio" value="1040" onchange="calcFert(\'ph\')" checked />MAP<br />';str_Content+='<input name="ph" id=\'ph_1\' type="radio" value="920" onchange="calcFert(\'ph\')" />DAP </td>';
str_Content+='<td align="center" class="tc_Results">';str_Content+='<input name="po" id=\'po_0\' type="radio" value="1200" onchange="calcFert(\'po\')" checked />0-0-60<br />';str_Content+='<input name="po" id=\'po_1\' type="radio" value="1240" onchange="calcFert(\'po\')" />0-0-62 </td>';str_Content+="</tr>";
str_Content+="<tr>";str_Content+='<td class="tc_T tc_Results"><span class="stepTitle">Cost/Ton</span></td>';str_Content+='<td class="tc_T tc_Results" align="right"> $';str_Content+='<input name="ntCpT" id="ntCpT" type="text" size="8" onchange="calcFert(\'nt\')" class="styled" /></td>';str_Content+='<td class="tc_T tc_Results" align="right"> $';
str_Content+='<input name="phCpT" id="phCpT" type="text" size="8" onchange="calcFert(\'ph\')" class="styled" /></td>';str_Content+='<td class="tc_T tc_Results" align="right"> $';str_Content+='<input name="poCpT" id="poCpT" type="text" size="8" onchange="calcFert(\'po\')" class="styled" /></td>';str_Content+="</tr>";
str_Content+="<tr>";str_Content+='<td class="tc_T tc_Results"><span class="stepTitle">Rate desired <br />';str_Content+="(actual) </span></td>";str_Content+='<td class="tc_T tc_Results" align="right">';str_Content+='<input name="ntRate" id="ntRate" type="text" size="8" onchange="calcFert(\'nt\')" class="styled" /></td>';
str_Content+='<td class="tc_T tc_Results" align="right">';str_Content+='<input name="phRate" id="phRate" type="text" size="8" onchange="calcFert(\'ph\')" class="styled" /></td>';str_Content+='<td class="tc_T tc_Results" align="right">';str_Content+='<input name="poRate" id="poRate" type="text" size="8" onchange="calcFert(\'po\')" class="styled" /></td>';
str_Content+="</tr>";str_Content+="<tr>";str_Content+='<td class="tc_T tc_Results"><span class="stepTitle">Cost/Acre</span></td>';str_Content+='<td class="tc_T tc_Results" align="center">$<span id="ntCpA"> - -</span>';str_Content+='<input type="hidden" id="ntCpA_h" value="0" /></td>';str_Content+='<td class="tc_T tc_Results" align="center">$<span id="phCpA"> - -</span>';
str_Content+='<input type="hidden" id="phCpA_h" value="0" /></td>';str_Content+='<td class="tc_T tc_Results" align="center">$<span id="poCpA"> - -</span>';str_Content+='<input type="hidden" id="poCpA_h" value="0" /></td>';str_Content+="</tr>";str_Content+='<tr><td colspan="4" class="tc_Results"><img src="images/spacer.gif" width="1" height="5" /></td></tr>';
str_Content+='<tr><td colspan="4" class="tc_T2"><span class="cop_AreaHeader">Lime</span></td></tr>';str_Content+="<tr>";str_Content+='<td class="tc_T tc_Results"><span class="stepTitle">Cost/Acre</span></td>';str_Content+='<td class="tc_T tc_Results" align="center"> $';str_Content+='<input name="lime" type="text" id="lime" onchange="calcFert(\'nt\')" value="0.00" size="8" class="styled" /></td>';
str_Content+='<td colspan="2" class="tc_T tc_Results">&nbsp;</td>';str_Content+="</tr>";str_Content+='<tr><td colspan="4" class="tc_Results"><img src="images/spacer.gif" width="1" height="5" /></td></tr>';str_Content+='<tr><td colspan="4" class="tc_T2"><span class="cop_AreaHeader">Total Cost</span></td></tr>';
str_Content+="<tr>";str_Content+='<td class="tc_T tc_Results" valign="top"><span class="stepTitle">Total  Fertilizer Cost/Acre<br />';str_Content+="</span>(Select appropriate value)</td>";str_Content+='<td colspan="3" class="tc_T tc_Results">';str_Content+='<input name="rbl_Result" type="radio" value=\'\' id="rbl_Result_0" checked="checked" />';
str_Content+='$<span id="totalCpA"> - - </span> /yr <span class="smtext">(if 1 year rates entered)</span><br />';str_Content+='<input name="rbl_Result" type="radio" value=\'\' id="rbl_Result_1" />';str_Content+='$<span id="totalCpA2"> - - </span> /yr <span class="smtext">(if 2 year rates entered)</span></td>';
str_Content+="</tr>";str_Content+='<tr><td colspan="4" class="tc_Results"><img src="images/spacer.gif" width="1" height="5" /></td></tr>';str_Content+="<tr>";str_Content+='<td class="tc_Results" align="right">&nbsp;</td>';str_Content+='<td colspan="3" class="tc_Results" align="center">';str_Content+='<input type="button" name="Button2" value="Add to Form" onclick="add2Form()" class=\'styled\'  /></td>';
str_Content+="</tr>";}else{shadowBox_Width=245;shadowBox_Height=210;str_Content+="<tr>";str_Content+='<td colspan="2" class="tc_T2"><span class="cop_AreaHeader">Seed Cost</span></td>';str_Content+="</tr>";str_Content+="<tr>";str_Content+='<td class="tc_T tc_Results">Price/Unit</td>';str_Content+='<td class="tc_T tc_Results" align="right">';
str_Content+='$<input name="price" id="price" type="text" size="8" onchange="calcSeed()" /></td>';str_Content+="</tr>";str_Content+="<tr>";str_Content+='<td class="tc_T tc_Results">Seeding Rate </td>';str_Content+='<td class="tc_T tc_Results" align="right">';str_Content+='<input name="rate" id="rate" type="text" size="8" onchange="calcSeed()" /></td>';
str_Content+="</tr>";if(miniCalcCrop=="SB"){shadowBox_Height=250;str_Content+=" <tr>";str_Content+='<td class="tc_T tc_Results">Seed Size/lb </td>';str_Content+='<td class="tc_T tc_Results" align="right">';str_Content+='<input name="seedSize" id="seedSize" type="text" size="8" onchange="calcSeed()" /></td>';
str_Content+="</tr>";}str_Content+="<tr>";str_Content+='<td colspan="2" class="tc_T2 miniCalcTotalRow"><span class="cop_AreaHeader">Total Cost</span></td>';str_Content+="</tr>";str_Content+="<tr>";str_Content+='<td class="tc_T tc_Results">Cost/Acre</td>';str_Content+='<td class="tc_T tc_Results" align="right">$<span id="totalCpA"> - -</span></td>';
str_Content+="</tr>";str_Content+="<tr>";str_Content+='<td class="tc_Results">&nbsp;</td>';str_Content+='<td class="tc_Results">';str_Content+='<input type="button" name="Button3" value="Add to Form" onclick="add2Form()" /></td>';str_Content+="</tr>";}str_Content+="</table></div>";Shadowbox.open({player:"html",content:str_Content,height:shadowBox_Height,width:shadowBox_Width});
}function add2Form(){if(miniCalc=="f"){if(document.getElementById("rbl_Result_0").checked){document.getElementById(miniCalcField).value=document.getElementById("totalCpA").innerHTML;}else{document.getElementById(miniCalcField).value=document.getElementById("totalCpA2").innerHTML;}}else{document.getElementById(miniCalcField).value=document.getElementById("totalCpA").innerHTML;
}window.parent.Shadowbox.close();calc(miniCalcCrop);}function stripNonNum(tb){filteredValues="1234567890.";tmpVal="";val=$("#"+tb).val();valLen=val.length;for(i=0;i<valLen;i++){var c=val.charAt(i);if(filteredValues.indexOf(c)>-1){tmpVal+=c;}}$("#"+tb).focus();$("#"+tb).val(tmpVal);}function calcFert(fert){cpt=parseFloat($("#"+fert+"CpT").val());
rate=parseFloat($("#"+fert+"Rate").val());if(!(isNaN(cpt)||isNaN(rate))){stripNonNum_Array("ntCpT,phCpT,poCpT,ntRate,phRate,poRate,lime");if($("#"+fert+"_0").is(":checked")){fertValue=$("#"+fert+"_0").val();}else{fertValue=$("#"+fert+"_1").val();}var cpa=TwoDecimals(rate/fertValue*cpt);tmpElement=fert+"CpA";
tmpHDElement=fert+"CpA_h";$("#"+tmpElement).text(cpa);$("#"+tmpHDElement).val(cpa);totalCost=parseFloat($("#ntCpA_h").val())+parseFloat($("#phCpA_h").val())+parseFloat($("#poCpA_h").val())+parseFloat($("#lime").val());$("#totalCpA").text(ThreeDecimalsOrZero(totalCost));$("#totalCpA2").text(ThreeDecimalsOrZero(totalCost/2));
}}function calcSeed(){var price=parseFloat($("#price").val());var rate=parseFloat($("#rate").val());if(miniCalcCrop=="SB"){var seedSize=parseFloat($("#seedSize").val());if(!(isNaN(price)||isNaN(rate)||isNaN(seedSize))){stripNonNum_Array("price,rate,seedSize");var totalCost=((rate/seedSize)/50)*price;
$("#totalCpA").text(ThreeDecimalsOrZero(totalCost));}}else{if(!(isNaN(price)||isNaN(rate))){stripNonNum_Array("price,rate");totalCost=(price/80000)*rate;$("#totalCpA").text(TwoDecimals(totalCost));}}}function stripNonNum_Array(fields){arrFields=fields.split(",");filteredValues="1234567890.";for(var j=0;
j<arrFields.length;j++){tmpVal="";val=document.getElementById(arrFields[j]).value;valLen=val.length;for(i=0;i<valLen;i++){var c=val.charAt(i);if(filteredValues.indexOf(c)>-1){tmpVal+=c;}}document.getElementById(arrFields[j]).value=tmpVal;}}function formatCurrency(num){num=num.toString().replace(/\$|\,/g,"");
if(isNaN(num)){num="0";}sign=(num==(num=Math.abs(num)));num=Math.floor(num*100+0.50000000001);cents=num%100;num=Math.floor(num/100).toString();if(cents<10){cents="0"+cents;}for(var i=0;i<Math.floor((num.length-(1+i))/3);i++){num=num.substring(0,num.length-(4*i+3))+","+num.substring(num.length-(4*i+3));
}return(((sign)?"":"-")+"$"+num+"."+cents);}